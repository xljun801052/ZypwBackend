#1-点赞功能设计
***

### 功能需求：
>   ①显示用户是否为该文章或者帖子进行过点赞，如果点过赞，则UI界面展示红色点赞按钮。否则展示灰色未点赞图标。
 
>   ②显示点赞数量以及点赞增加



>   ③点击点赞按钮可以进行点赞或者取消点赞。

### 注意点：
>   应对千万级的数据量，使用mysql分表+cache即可应对。但是针对上亿级别的数据，用户量大，那么考虑到DB的io性能
    等需要上NoSql，这里用redis进行操作。主要考虑到redis的数据类型丰富，日常操作的API较为契合，而且后对后续
    不管是数据同步关系型数据库还是其他介质理论上来说支持度都相对较高。
    
>   另外就是要注意：引入Redis后，要注意数据丢失问题。对于点赞来说，丢失一点数据也是可以容忍的，但是还是要尽量避
    免，AOF和RDB该有还是得有！

>   还有一点就是数据同步，刷回DB的问题。异步任务刷回mysql即可。（数据一致性？数据丢失？是否要引入MQ？）

### 点赞常见场景：
>>  场景a ：显示点赞数量
//以文章id=888为例
127.0.0.1:6379[2]> set star:tid:888 898 //设置点赞数量
OK
127.0.0.1:6379[2]> incr star:tid:888 //实现数量自增 (integer)
899

>>  场景b：点赞去重，避免重复点赞
要实现这个需求，必须有文章点赞的uid列表，以uid为key场景c：一般在用户中心，可以看到用户自己的点赞列表
这个需求可以使用场景b的数据来实现。

>>  场景d：文章的点赞列表，类似场景b，以文章id为key
//以文章id=888为例
127.0.0.1:6379[2]> sadd star:list:tid:888 123 456 789  //点赞uid列表 (integer)
3
127.0.0.1:6379[2]> sismember star:list:tid:888 456  //判断是否点赞 (integer)
1